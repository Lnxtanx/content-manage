"use strict";(()=>{var e={};e.id=74,e.ids=[74],e.modules={20399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},30517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},75390:(e,s,o)=>{o.r(s),o.d(s,{originalPathname:()=>h,patchFetch:()=>f,requestAsyncStorage:()=>c,routeModule:()=>u,serverHooks:()=>m,staticGenerationAsyncStorage:()=>d});var r={};o.r(r),o.d(r,{GET:()=>p});var n=o(49303),t=o(88716),a=o(60670),l=o(87070),i=o(20728);async function p(e){try{let s=e.nextUrl.searchParams.get("classId");if(!s)return l.NextResponse.json({error:"Class ID is required"},{status:400});let o=(await i.Z.lessonPdf.findMany({where:{classId:parseInt(s),OR:[{isForAllSchools:!0},{AND:[{isForAllSchools:!1},{schoolId:{not:null}}]}]},include:{Class:{select:{name:!0}},schools:{select:{name:!0}}}})).map(e=>({id:e.id,lessonName:e.lessonName,pdfUrl:e.pdfUrl,className:e.Class?.name||"Unknown",schoolName:e.isForAllSchools?"All Schools":e.schools?.name||"Unknown",isGlobal:!!e.isForAllSchools}));return l.NextResponse.json(o)}catch(e){return console.error("Error fetching lessons:",e),l.NextResponse.json({error:"Failed to fetch lessons"},{status:500})}}let u=new n.AppRouteRouteModule({definition:{kind:t.x.APP_ROUTE,page:"/api/lessons/route",pathname:"/api/lessons",filename:"route",bundlePath:"app/api/lessons/route"},resolvedPagePath:"C:\\internships\\devbumi sportal foundation\\content-manneger\\src\\app\\api\\lessons\\route.ts",nextConfigOutput:"standalone",userland:r}),{requestAsyncStorage:c,staticGenerationAsyncStorage:d,serverHooks:m}=u,h="/api/lessons/route";function f(){return(0,a.patchFetch)({serverHooks:m,staticGenerationAsyncStorage:d})}},20728:(e,s,o)=>{o.d(s,{Z:()=>n});let r=require("@prisma/client"),n=globalThis.prisma??new r.PrismaClient}};var s=require("../../../webpack-runtime.js");s.C(e);var o=e=>s(s.s=e),r=s.X(0,[276,972],()=>o(75390));module.exports=r})();