(()=>{var e={};e.id=928,e.ids=[928],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},68477:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>r.Z,__next_app__:()=>c,originalPathname:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>i}),t(92772),t(15497),t(7629),t(35866);var l=t(23191),a=t(88716),r=t(43315),n=t(95231),o={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>n[e]);t.d(s,o);let i=["",{children:["upload-syllabus",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,92772)),"C:\\internships\\devbumi sportal foundation\\content-manneger\\src\\app\\upload-syllabus\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,15497)),"C:\\internships\\devbumi sportal foundation\\content-manneger\\src\\app\\layout.tsx"],error:[()=>Promise.resolve().then(t.bind(t,7629)),"C:\\internships\\devbumi sportal foundation\\content-manneger\\src\\app\\error.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],u=["C:\\internships\\devbumi sportal foundation\\content-manneger\\src\\app\\upload-syllabus\\page.tsx"],d="/upload-syllabus/page",c={require:t,loadChunk:()=>Promise.resolve()},p=new l.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/upload-syllabus/page",pathname:"/upload-syllabus",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:i}})},60741:(e,s,t)=>{Promise.resolve().then(t.bind(t,31444))},31444:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>o});var l=t(10326),a=t(17577),r=t(82256),n=t.n(r);function o(){let[e,s]=(0,a.useState)([]),[t,r]=(0,a.useState)([]),[o,i]=(0,a.useState)(""),[u,d]=(0,a.useState)(""),[c,p]=(0,a.useState)(""),[m,h]=(0,a.useState)(""),[x,_]=(0,a.useState)(""),[b,f]=(0,a.useState)(null),[v,g]=(0,a.useState)(!1),[y,j]=(0,a.useState)(""),[S,N]=(0,a.useState)(!0),P=async e=>{if(e.preventDefault(),!o||!u||!c||!b){j("Please fill in all required fields"),setTimeout(()=>j(""),5e3);return}if(!b.type.includes("pdf")){j("Please upload a PDF file only"),setTimeout(()=>j(""),5e3);return}if(b.size>10485760){j("File size should be less than 10MB"),setTimeout(()=>j(""),5e3);return}g(!0),j("");let s=new FormData;s.append("classId",o),s.append("lessonName",c),s.append("subject_id",u),s.append("lessonoutcomes",m),s.append("lessonobjectives",x),s.append("file",b),s.append("isForAllSchools",S.toString());try{let e=await fetch("/api/upload-syllabus",{method:"POST",body:s}),t=await e.json();if(e.ok){j("✓ Syllabus uploaded successfully!"),i(""),d(""),p(""),h(""),_(""),f(null),N(!0),setTimeout(()=>j(""),5e3);let e=document.getElementById("file");e&&(e.value="")}else j(`Error: ${t.error||"Failed to upload syllabus"}`),setTimeout(()=>j(""),5e3)}catch(e){j("Error: Network error or server not responding"),setTimeout(()=>j(""),5e3)}finally{g(!1)}};return(0,l.jsxs)("div",{className:n().container,children:[l.jsx("h1",{className:n().header,children:"Upload Syllabus"}),y&&l.jsx("div",{className:`${n().message} ${y.includes("✓")?n().success:n().error}`,children:y}),(0,l.jsxs)("form",{onSubmit:P,children:[(0,l.jsxs)("div",{className:n().formRow,children:[(0,l.jsxs)("div",{className:n().formGroup,children:[l.jsx("label",{htmlFor:"class",children:"Select Class"}),(0,l.jsxs)("select",{id:"class",value:o,onChange:e=>i(e.target.value),required:!0,className:n().select,children:[l.jsx("option",{value:"",children:"Select a class"}),e.map(e=>l.jsx("option",{value:e.id,children:e.name},e.id))]})]}),(0,l.jsxs)("div",{className:n().formGroup,children:[l.jsx("label",{htmlFor:"subject",children:"Select Subject"}),(0,l.jsxs)("select",{id:"subject",value:u,onChange:e=>d(e.target.value),required:!0,className:n().select,children:[l.jsx("option",{value:"",children:"Select a subject"}),t.map(e=>l.jsx("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,l.jsxs)("div",{className:n().formGroup,children:[l.jsx("label",{htmlFor:"lessonName",children:"Lesson Name"}),l.jsx("input",{type:"text",id:"lessonName",value:c,onChange:e=>p(e.target.value),required:!0,className:n().input,placeholder:"Enter lesson name"})]}),(0,l.jsxs)("div",{className:n().formGroup,children:[l.jsx("label",{htmlFor:"lessonObjectives",children:"Lesson Objectives"}),l.jsx("textarea",{id:"lessonObjectives",value:x,onChange:e=>_(e.target.value),className:n().textarea,placeholder:"Enter lesson objectives",rows:3})]}),(0,l.jsxs)("div",{className:n().formGroup,children:[l.jsx("label",{htmlFor:"lessonOutcomes",children:"Lesson Outcomes"}),l.jsx("textarea",{id:"lessonOutcomes",value:m,onChange:e=>h(e.target.value),className:n().textarea,placeholder:"Enter expected learning outcomes",rows:3})]}),(0,l.jsxs)("div",{className:n().formGroup,children:[l.jsx("label",{htmlFor:"file",children:"Upload PDF (max 10MB)"}),l.jsx("input",{type:"file",id:"file",accept:".pdf",onChange:e=>f(e.target.files?.[0]||null),required:!0,className:n().fileInput})]}),l.jsx("div",{className:n().formGroup,children:(0,l.jsxs)("label",{className:n().checkbox,children:[l.jsx("input",{type:"checkbox",checked:S,onChange:e=>N(e.target.checked)}),"Make this syllabus available to all schools"]})}),l.jsx("button",{type:"submit",disabled:v,className:n().button,children:v?"Uploading...":"Upload Syllabus"})]})]})}},82256:e=>{e.exports={container:"styles_container__zz6tm",header:"styles_header__qZigb",title:"styles_title__4FWEK",formGroup:"styles_formGroup__SZ94l",select:"styles_select__JgNGY",input:"styles_input__fZYgC",fileInput:"styles_fileInput__5i_Fo",formControl:"styles_formControl__7DRfd",checkbox:"styles_checkbox__HrLpV",button:"styles_button__rfd3e",btn:"styles_btn__qitay",message:"styles_message__b1W3V",success:"styles_success__OHFQA",error:"styles_error__X1gaF",addFormSection:"styles_addFormSection___IXbh",formActions:"styles_formActions__vuoBk"}},92772:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>l});let l=(0,t(68570).createProxy)(String.raw`C:\internships\devbumi sportal foundation\content-manneger\src\app\upload-syllabus\page.tsx#default`)}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),l=s.X(0,[276,762,174],()=>t(68477));module.exports=l})();